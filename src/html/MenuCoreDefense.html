<!doctype html>
<!-- Referencia del idioma -->
<html lang="en">
  <head>
	<!-- Icono que aparece en las pestañas -->
	<link rel="shortcut icon" type="image/x-icon" href="../images/sprite1.png">
	<title>Core Defense</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<style>
		img {
			position: absolute;
		}
		
		.fondo {
			left: 0px;
			top: 0px;
		}

		.creditos {
			left: 123px;
			top: 35px;
		}

		.opciones {
			left: 325px;
			top: 35px;
		}

		.instrucciones {
			left: 718px;
			top: 35px;
		}

		.soloplay {
			left: 960px;
			top: 774px;
		}

		.multijugador {
			left: 960px;
			top: 920px;
		}

		.dificultadFacil {
			left: 650px;
			top: 500px;
		}
		.dificultadMedio {
			left: 650px;
			top: 650px;
		}
		.dificultadDificil {
			left: 650px;
			top: 800px;
		}

		.botonAtras {
			left: 1680px;
			top: 850px;
		}

		.botonIdioma{
			left: 1000px;
			top: 540px;
		}
		.botonSonido{
			left: 1000px;
			top: 640px;
		}
	</style>
	<script type="text/javascript">
		if (window.localStorage.getItem("idioma") === null){
			window.localStorage.setItem("idioma", "es");
		}
		if (window.localStorage.getItem("sonido") === null){
			window.localStorage.setItem("sonido", "on");
		}

		var idioma = window.localStorage.getItem("idioma");
		var sonido = window.localStorage.getItem("sonido");

		var versionMovil = false;

		//console.log("Idioma "+window.localStorage.getItem("idioma"));
		//console.log("Sonido "+window.localStorage.getItem("sonido"));

		//Muestra el parrafo de soloplayer
        function unJugador() {
			var divOcultar = document.getElementById('menu');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuMultiplayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuInstrucciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuOpciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuCreditos');
			divOcultar.style.display='none';

			var divMostrar = document.getElementById('menuSoloPlayer');
			divMostrar.style.display='block';
		}
		//Muestra el parrafo del multijugador
		function multijugador() {
			var divOcultar = document.getElementById('menu');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuSoloPlayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuInstrucciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuOpciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuCreditos');
			divOcultar.style.display='none';

			var divMostrar = document.getElementById('menuMultiplayer');
			divMostrar.style.display='block';
		}
		//Vuelve al menú
		function atras(){
			var divOcultar = document.getElementById('menuSoloPlayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuMultiplayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuInstrucciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuOpciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuCreditos');
			divOcultar.style.display='none';

			var divMostrar = document.getElementById('menu');
			divMostrar.style.display='block';
		}
		//Muestra las instrucciones
		function instrucciones(){
			var divOcultar = document.getElementById('menuSoloPlayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuMultiplayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menu');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuOpciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuCreditos');
			divOcultar.style.display='none';

			var divMostrar = document.getElementById('menuInstrucciones');
			divMostrar.style.display='block';
		}
		//Muestra las opciones
		function opciones(){
			var divOcultar = document.getElementById('menuSoloPlayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuMultiplayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menu');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuInstrucciones');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuCreditos');
			divOcultar.style.display='none';

			var divMostrar = document.getElementById('menuOpciones');
			divMostrar.style.display='block';
		}
		//Muestra los creditos
		function creditos(){
			var divOcultar = document.getElementById('menuSoloPlayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuMultiplayer');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menu');
			divOcultar.style.display='none';
			var divOcultar = document.getElementById('menuInstrucciones');
			divOcultar.style.display='none';
			var divMostrar = document.getElementById('menuOpciones');
			divMostrar.style.display='none';

			var divMostrar = document.getElementById('menuCreditos');
			divMostrar.style.display='block';
		}
		//Carga el juego segun la dificultad
		function jugar(dificultad, jugadores){
			
			window.localStorage.setItem("dificultad", dificultad);
			window.localStorage.setItem("jugadores", jugadores);

			if (!versionMovil){
				window.location.href = "Core Defense.html";
			}else{
				window.location.href = "Core Defense Movil.html";
			}
			
		}
		//Cambia el idioma
		function cambiarIdioma(){
			var stringValue = window.localStorage.getItem("idioma");

			if (stringValue === "es"){
				window.localStorage.setItem("idioma", "en");

				var img = document.getElementById("creditos");
				img.src = "../images/CREDITS_BUTTON.png";
				img = document.getElementById("opciones");
				img.src = "../images/OPTIONS_BUTTON.png";
				img = document.getElementById("instrucciones");
				img.src = "../images/INDTRUCTIONS_BUTTON.png";
				img = document.getElementById("soloplayer");
				img.src = "../images/SINGLEPLAYER_BUTTON.png";
				img = document.getElementById("multiplayer");
				img.src = "../images/MULTIPLAYER_BUTTON.png";
				img = document.getElementById("fondosoloplayer");
				img.src = "../images/NIVELES_SINGLEPLAYER.png";
				img = document.getElementById("fondomultiplayer");
				img.src = "../images/NIVELES_MULTIPLAYER.png";

				img = document.getElementById("facil");
				img.src = "../images/EASY_BUTTON.png";
				img = document.getElementById("medio");
				img.src = "../images/NORMAL_BUTTON.png";
				img = document.getElementById("dificil");
				img.src = "../images/HARD_BUTTON.png";

				img = document.getElementById("facilm");
				img.src = "../images/EASY_BUTTON.png";
				img = document.getElementById("mediom");
				img.src = "../images/NORMAL_BUTTON.png";
				img = document.getElementById("dificilm");
				img.src = "../images/HARD_BUTTON.png";

				img = document.getElementById("fondoinstrucciones");
				img.src = "../images/fondo_instrucciones_ingles.png";

				img = document.getElementById("fondoopciones");
				img.src = "../images/fondo_opciones_ingles.png";
				img = document.getElementById("botonidioma");
				img.src = "../images/boton ingles opciones.png";

				img = document.getElementById("fondocreditos");
				img.src = "../images/fondo_creditos_ingles.png";
			}else{
				window.localStorage.setItem("idioma", "es");

				var img = document.getElementById("creditos");
				img.src = "../images/CREDITOS_BUTTON.png";
				img = document.getElementById("opciones");
				img.src = "../images/OPCIONES_BUTTON.png";
				img = document.getElementById("instrucciones");
				img.src = "../images/INDTRUCCIONES_BUTTON.png";
				img = document.getElementById("soloplayer");
				img.src = "../images/UNJUGADOR_BUTTON.png";
				img = document.getElementById("multiplayer");
				img.src = "../images/MULTIJUGADOR_BUTTON.png";
				img = document.getElementById("fondosoloplayer");
				img.src = "../images/NIVELES_UNJUGADOR.png";
				img = document.getElementById("fondomultiplayer");
				img.src = "../images/NIVELES_MULTIJUGADOR.png";

				img = document.getElementById("facil");
				img.src = "../images/FACIL_BUTTON.png";
				img = document.getElementById("medio");
				img.src = "../images/MEDIO_BUTTON.png";
				img = document.getElementById("dificil");
				img.src = "../images/DIFICIL_BUTTON.png";

				img = document.getElementById("facilm");
				img.src = "../images/FACIL_BUTTON.png";
				img = document.getElementById("mediom");
				img.src = "../images/MEDIO_BUTTON.png";
				img = document.getElementById("dificilm");
				img.src = "../images/DIFICIL_BUTTON.png";

				img = document.getElementById("fondoinstrucciones");
				img.src = "../images/fondo_instrucciones_esp.png";

				img = document.getElementById("fondoopciones");
				img.src = "../images/fondo_opciones_esp.png";
				img = document.getElementById("botonidioma");
				img.src = "../images/boton españolopciones.png";

				img = document.getElementById("fondocreditos");
				img.src = "../images/fondo_creditos_español.png";
			}
		}
		//Cambia el sonido
		function cambiarSonido(){
			var stringValue = window.localStorage.getItem("sonido");

			if (stringValue === "off"){
				window.localStorage.setItem("sonido", "on");
				this.audio.play();
				this.audio.loop= true;
				var img = document.getElementById("botonsonido");
				img.src = "../images/boton on opciones.png";
			}else{
				window.localStorage.setItem("sonido", "off");
				this.audio.pause();
				this.audio.currentTime = 0;
				var img = document.getElementById("botonsonido");
				img.src = "../images/boton off opciones.png";
			}
		}
		//Por si se recarga la pagina que carge su configuracion si no esta por defecto
		function initVariables(){

			 this.audio = new Audio("../audio/menu.wav");

			 if (sonido === "on"){
				this.audio.play();
				this.audio.loop= true;
			 }

			if (idioma === "en"){
				var img = document.getElementById("creditos");
				img.src = "../images/CREDITS_BUTTON.png";
				img = document.getElementById("opciones");
				img.src = "../images/OPTIONS_BUTTON.png";
				img = document.getElementById("instrucciones");
				img.src = "../images/INDTRUCTIONS_BUTTON.png";
				img = document.getElementById("soloplayer");
				img.src = "../images/SINGLEPLAYER_BUTTON.png";
				img = document.getElementById("multiplayer");
				img.src = "../images/MULTIPLAYER_BUTTON.png";
				img = document.getElementById("fondosoloplayer");
				img.src = "../images/NIVELES_SINGLEPLAYER.png";
				img = document.getElementById("fondomultiplayer");
				img.src = "../images/NIVELES_MULTIPLAYER.png";

				img = document.getElementById("facil");
				img.src = "../images/EASY_BUTTON.png";
				img = document.getElementById("medio");
				img.src = "../images/NORMAL_BUTTON.png";
				img = document.getElementById("dificil");
				img.src = "../images/HARD_BUTTON.png";

				img = document.getElementById("facilm");
				img.src = "../images/EASY_BUTTON.png";
				img = document.getElementById("mediom");
				img.src = "../images/NORMAL_BUTTON.png";
				img = document.getElementById("dificilm");
				img.src = "../images/HARD_BUTTON.png";

				img = document.getElementById("fondoinstrucciones");
				img.src = "../images/fondo_instrucciones_ingles.png";

				img = document.getElementById("fondoopciones");
				img.src = "../images/fondo_opciones_ingles.png";
				img = document.getElementById("botonidioma");
				img.src = "../images/boton ingles opciones.png";
				
			}
			if (sonido === "off"){
				var img = document.getElementById("botonsonido");
				img.src = "../images/boton off opciones.png";
			}
		}

		if(navigator.userAgent.match(/iPad/i)){
			//alert("ipad");
			versionMovil = true;
		}
		if(navigator.userAgent.match(/iPhone/i)){
			//alert("iphone");
			versionMovil = true;
		}
		if(navigator.userAgent.match(/Android/i)){
			//alert("android");
			versionMovil = true;
		}
		if(navigator.userAgent.match(/BlackBerry/i)){
			//alert("blackberry");
			versionMovil = true;
		}
		if(navigator.userAgent.match(/webOS/i)){
			//alert("webos");
			versionMovil = true;
		}
    </script>
  </head>

  <body onload="initVariables()">
	<p align="center" id ="menu">
		<img src = "../images/fondo.png" style="z-index: 0" class="fondo"/>

		<img id="creditos" src = "../images/CREDITOS_BUTTON.png" class="creditos" style="z-index: 1"
		onmousedown="creditos()"/>
		
		<img id="opciones" src = "../images/OPCIONES_BUTTON.png" class="opciones" style="z-index: 1"
		onmousedown="opciones()"/>

		<img id="instrucciones" src = "../images/INDTRUCCIONES_BUTTON.png" class="instrucciones" style="z-index: 1"
		onmousedown="instrucciones()"/>

		<img id="soloplayer" src = "../images/UNJUGADOR_BUTTON.png" class="soloplay" style="z-index: 1"
		onmousedown="unJugador()"/>
		<img id="multiplayer" src = "../images/MULTIJUGADOR_BUTTON.png" class="multijugador" style="z-index: 1"
		onmousedown="multijugador()"/>
	</p>

	<p id="menuSoloPlayer" align = "center" style ="display:none">
		<img id="fondosoloplayer" src = "../images/NIVELES_UNJUGADOR.png" style="z-index: 0" class="fondo"/>

		<img id="facil" src = "../images/FACIL_BUTTON.png" class="dificultadFacil" style="z-index: 1"
		onmousedown="jugar(0,1)"/>

		<img id="medio" src = "../images/MEDIO_BUTTON.png" class="dificultadMedio" style="z-index: 1"
		onmousedown="jugar(1,1)"/>

		<img id="dificil" src = "../images/DIFICIL_BUTTON.png" class="dificultadDificil" style="z-index: 1"
		onmousedown="jugar(2,1)"/>

		<img src = "../images/BOTONATRAS.png" class="botonAtras" style="z-index: 1"
		onmousedown="atras()"/>
	</p>

	<p id="menuMultiplayer" align = "center" style ="display:none">
		<img id="fondomultiplayer" src = "../images/NIVELES_MULTIJUGADOR.png" style="z-index: 0" class="fondo"/>

		<img id="facilm" src = "../images/FACIL_BUTTON.png" class="dificultadFacil" style="z-index: 1"
		onmousedown="jugar(1,2)"/>

		<img id="mediom" src = "../images/MEDIO_BUTTON.png" class="dificultadMedio" style="z-index: 1"
		onmousedown="jugar(2,2)"/>

		<img id="dificilm" src = "../images/DIFICIL_BUTTON.png" class="dificultadDificil" style="z-index: 1"
		onmousedown="jugar(3,2)"/>

		<img src = "../images/BOTONATRAS.png" class="botonAtras" style="z-index: 1"
		onmousedown="atras()"/>
	</p>

	<p id="menuInstrucciones" align = "center" style ="display:none">
		<img id="fondoinstrucciones" src = "../images/fondo_instrucciones_esp.png" style="z-index: 0" class="fondo"/>

		<img src = "../images/BOTONATRAS.png" class="botonAtras" style="z-index: 1"
		onmousedown="atras()"/>
	</p>

	<p id="menuCreditos" align = "center" style ="display:none">
		<img id="fondocreditos" src = "../images/fondo_creditos_español.png" style="z-index: 0" class="fondo"/>

		<img src = "../images/BOTONATRAS.png" class="botonAtras" style="z-index: 1"
		onmousedown="atras()"/>
	</p>

	<p id="menuOpciones" align = "center" style ="display:none">
		<img id="fondoopciones" src = "../images/fondo_opciones_esp.png" style="z-index: 0" class="fondo"/>

		<img id="botonidioma" src = "../images/boton españolopciones.png" class="botonIdioma" style="z-index: 1"
		onmousedown="cambiarIdioma()"/>

		<img id="botonsonido" src = "../images/boton on opciones.png" class="botonSonido" style="z-index: 1"
		onmousedown="cambiarSonido()"/>

		<img src = "../images/BOTONATRAS.png" class="botonAtras" style="z-index: 1"
		onmousedown="atras()"/>
	</p>
  </body>
</html>